---
import { whichRoute } from "@/utils/routes"
import AboutView, { aboutSchema } from "@/views/AboutView.astro"
import HomeView, { landingSchema } from "@/views/HomeView.astro"
import PageView, { pageSchema } from "@/views/PageView.astro"
import ProjectView, { projectSchema } from "@/views/ProjectView.astro"

import type { Lang } from "@/utils/lang"

interface Props {
  data: unknown
  lang: Lang
  path: string
}

const { data, lang, path } = Astro.props
const routeIdentifier = whichRoute(path, lang)
---

{routeIdentifier === "home" && <HomeView data={landingSchema.parse(data)} lang={lang} />}
{routeIdentifier === "about" && <AboutView data={aboutSchema.parse(data)} lang={lang} />}
{routeIdentifier === "page" && <PageView data={pageSchema.parse(data)} lang={lang} />}
{routeIdentifier === "project" && <ProjectView data={projectSchema.parse(data)} lang={lang} />}
