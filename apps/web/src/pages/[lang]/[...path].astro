---
import { OTHER_LOCALES } from "@/i18n/consts"
import Template from "@/pages/_templates/_template.astro"
import { fetchPaths } from "@/queries/fetch-paths"
import { $locale } from "@/stores/locale-store"

export async function getStaticPaths() {
  return await fetchPaths(OTHER_LOCALES)
}

const locale = Astro.params.lang
const path = Astro.params.path || "/"
const props = Astro.props

$locale.set(locale)
---

<Template locale={locale} path={path} {...props} />
